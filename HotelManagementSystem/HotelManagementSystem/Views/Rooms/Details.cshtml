@model HotelManagementSystem.Models.Room

@{
    ViewData["Title"] = "Details";
}

@*<h1>Details</h1>

    <div>
        <h4>Room</h4>
        <hr />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Number)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Number)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Price)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Price)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.RoomType)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.RoomType.Id)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.BookingStatus)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.BookingStatus.Id)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Description)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Description)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Capacity)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Capacity)
            </dd>
        </dl>
    </div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
        <a asp-action="Index">Back to List</a>
    </div>*@

<!-- Start Page Header -->
<div class="page-header">
    <h1 class="title">Rooms</h1>
    @*<ol class="breadcrumb">
        <li><a asp-action="Index">Rooms</a></li>
        <li class="active">Details</li>
    </ol>
    
    <div class="right">
        <a asp-action="edit" asp-route-id="@Model.Id" class="btn btn-option3 btn-lg">Edit Room</a>
    </div>*@
</div>
<!-- End Page Header -->
<!-- START CONTAINER -->
<div class="container-padding">
    <div class="row">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

        <div class="col-md-12 col-lg-6">
            <div class="row">
                <div class="panel panel-default col-md-12">
                    @*<div class="panel-title">
                        Room Details
                        <ul class="panel-tools">
                            <li><a class="icon minimise-tool"><i class="fa fa-minus"></i></a></li>
                            <li><a class="icon expand-tool"><i class="fa fa-expand"></i></a></li>
                            <li><a class="icon closed-tool"><i class="fa fa-times"></i></a></li>
                        </ul>
                    </div>*@
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Room Number: </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.Number
                                </p>
                            </div>

                            <div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Room Type: </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.RoomType.Type
                                </p>
                            </div>

                            <div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Price ($): </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.Price
                                </p>
                            </div>

                            @*<div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Status: </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.Available
                                </p>
                            </div>*@

                            <div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Room Description: </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.Description
                                </p>
                            </div>

                            <div class="col-sm-12">
                                <p class="col-sm-4">
                                    <b>Maximum Guests: </b>
                                </p>
                                <p class="col-sm-8">
                                    @Model.Capacity
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="col-md-12 col-lg-6">
            <div class="panel panel-default">
                @*<div class="panel-title">
                    Room Images
                    <ul class="panel-tools">
                        <li><a class="icon minimise-tool"><i class="fa fa-minus"></i></a></li>
                        <li><a class="icon expand-tool"><i class="fa fa-expand"></i></a></li>
                        <li><a class="icon closed-tool"><i class="fa fa-times"></i></a></li>
                    </ul>
                </div>*@
                <div class="panel-body">
                    @foreach (var image in ViewBag.Images as IEnumerable<Image>)
                    {

                        <img class="col-sm-12" style="margin-bottom:5px;" width="500" height="350" src="@image.ImageUrl" asp-append-version="true" alt="@image.Name" />
                    }

                </div>
            </div>
        </div>


        <div class="form-group col-md-12">
            <div class="col-md-6 col-md-offset-3">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-success" onclick="window.location.href='/Rooms/Edit/@Model.Id'">Edit Room</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#DeleteModal">Delete Room</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-warning" onclick="window.location.href='/Rooms/Index'">Back To List</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END CONTAINER -->
<!-- //////////////////////////////////////////////////////////////////////////// -->
<!-- DeleteModal -->
<div class="modal fade" id="DeleteModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Delete Room</h4>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this room? This action is not reversible.</p>
            </div>
            <div class="modal-footer">
                <form asp-action="Delete" method="post">
                    <input type="hidden" name="id" value="@Model.Id" />
                    <input type="submit" value="Delete" class="btn btn-success" />
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </form>
            </div>
        </div>

    </div>
</div> <!-- DeleteModal -->

@section Scripts {

    <script>$(document).ready(function () {
            $('#DeleteModal').on('show.bs.modal', function (e) {

                //get data-id attribute of the clicked element
                var roomID = $(e.relatedTarget).data('room-id');
                var roomNumber = $(e.relatedTarget).data('room-number');
                var deleteMessage = "Are you sure you want to delete room with room no: " + roomNumber + "?";
                $('#DeleteConfirmation').html(deleteMessage);
                $(e.currentTarget).find('input[name="id"]').val(roomID);
            }); //Delete Modal
        }); //jquery</script>
}

